# Как проверить размер страниц памяти в эмуляторе Android

## Способ 1: Через терминал Android Studio (самый простой)

### Шаг 1: Запустите эмулятор
1. Убедитесь, что эмулятор запущен и виден в списке устройств

### Шаг 2: Откройте терминал в Android Studio
1. В нижней части Android Studio найдите вкладку **Terminal**
2. Если вкладки нет, откройте: **View → Tool Windows → Terminal**
3. Или используйте горячую клавишу: **Alt + F12**

### Шаг 3: Выполните команду проверки
В терминале выполните команду:
```bash
adb shell getconf PAGE_SIZE
```

### Результат:
- Если вернулось **`4096`** - используется 4 KB страницы ✅ (правильно для Yandex MapKit)
- Если вернулось **`16384`** - используется 16 KB страницы ❌ (проблема)

---

## Способ 2: Через командную строку Windows (PowerShell или CMD)

### Шаг 1: Откройте PowerShell или Command Prompt
- Нажмите **Win + X** и выберите **Windows PowerShell** или **Терминал**
- Или найдите "PowerShell" в меню Пуск

### Шаг 2: Перейдите в папку с Android SDK
```powershell
cd "$env:LOCALAPPDATA\Android\Sdk\platform-tools"
```

Или если у вас другой путь к SDK:
```powershell
cd "C:\Users\ВашеИмя\AppData\Local\Android\Sdk\platform-tools"
```

### Шаг 3: Проверьте подключение эмулятора
```powershell
.\adb devices
```

Должно показать что-то вроде:
```
List of devices attached
emulator-5554   device
```

### Шаг 4: Проверьте размер страниц
```powershell
.\adb shell getconf PAGE_SIZE
```

### Результат:
- **`4096`** = 4 KB ✅
- **`16384`** = 16 KB ❌

---

## Способ 3: Через ADB в любой папке (если добавлен в PATH)

Если `adb` добавлен в системную переменную PATH:

1. Откройте PowerShell или CMD в любой папке
2. Выполните:
```bash
adb shell getconf PAGE_SIZE
```

---

## Способ 4: Через Android Studio → Device Manager

1. Откройте **Tools → Device Manager**
2. Найдите ваш эмулятор в списке
3. Нажмите на иконку **терминала** (если доступна) рядом с эмулятором
4. В открывшемся терминале выполните:
```bash
getconf PAGE_SIZE
```

---

## Дополнительные команды для диагностики

### Проверить версию Android:
```bash
adb shell getprop ro.build.version.release
```

### Проверить API уровень:
```bash
adb shell getprop ro.build.version.sdk
```

### Проверить архитектуру процессора:
```bash
adb shell getprop ro.product.cpu.abi
```

### Проверить все свойства системы:
```bash
adb shell getprop | findstr page
```

---

## Что делать после проверки?

### Если получили `4096` (4 KB):
✅ Отлично! Эмулятор настроен правильно. Приложение должно запускаться без проблем с Yandex MapKit.

### Если получили `16384` (16 KB):
❌ Проблема! Нужно изменить системный образ эмулятора:
1. Откройте **AVD Manager**
2. Нажмите **Edit** (карандаш) на вашем эмуляторе
3. Выберите системный образ **БЕЗ** пометки "16 KB Page Size"
4. Сохраните изменения и перезапустите эмулятор
5. Проверьте снова командой `adb shell getconf PAGE_SIZE`

---

## Примечания

- Команда `adb` должна быть доступна (обычно находится в `platform-tools` папке Android SDK)
- Эмулятор должен быть запущен и подключен
- Если команда не работает, убедитесь, что эмулятор виден в `adb devices`
