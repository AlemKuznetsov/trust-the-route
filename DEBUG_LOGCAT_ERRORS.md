# Как отфильтровать и найти ошибки в Logcat

## Быстрая фильтрация ошибок

### Способ 1: Фильтр по уровню
1. Откройте **Logcat** в Android Studio (внизу экрана)
2. В поле фильтра введите: `level:error`
3. Нажмите Enter
4. Вы увидите только ошибки

### Способ 2: Фильтр по тегам приложения
В поле фильтра введите:
```
package:mine level:error
```

### Способ 3: Фильтр по конкретным тегам
Введите один из тегов:
- `TrustTheRoute` - ошибки приложения
- `YandexMapView` - ошибки карты
- `MapViewModel` - ошибки ViewModel
- `RouteDataLoader` - ошибки загрузки данных

### Способ 4: Поиск критических ошибок
Введите в поиск:
```
FATAL EXCEPTION
```
или
```
AndroidRuntime
```

---

## Типичные ошибки и их решения

### 1. Ошибки Yandex MapKit

**Симптомы:**
```
E/TrustTheRoute: Ошибка инициализации Yandex MapKit
E/MapKit: ...
```

**Решение:**
- Проверьте API ключ в `TrustTheRouteApplication.kt`
- Убедитесь, что ключ активен в Yandex Cloud

---

### 2. Ошибки геолокации

**Симптомы:**
```
E/MapViewModel: Ошибка отслеживания местоположения
E/LocationManager: ...
```

**Решение:**
- Проверьте разрешения в AndroidManifest.xml
- Убедитесь, что на эмуляторе включена геолокация
- В настройках эмулятора: **Extended Controls** → **Location** → установите координаты

---

### 3. Ошибки загрузки данных

**Симптомы:**
```
E/RouteDataLoader: Ошибка загрузки маршрутов из assets
E/RouteRepository: ...
```

**Решение:**
- Проверьте наличие файла `bus_b_cw.json` в `app/src/main/assets/routes/`
- Проверьте формат JSON файла

---

### 4. Ошибки базы данных

**Симптомы:**
```
E/Room: ...
E/SQLite: ...
```

**Решение:**
- Очистите данные приложения (см. `CLEAR_APP_DATA.md`)
- Переустановите приложение

---

### 5. Ошибки компиляции Kotlin

**Симптомы:**
```
E/Kotlin: ...
E/Compiler: ...
```

**Решение:**
- **Build → Clean Project**
- **Build → Rebuild Project**
- Проверьте версию Kotlin в `build.gradle.kts`

---

## Что скопировать и отправить

Если ошибок много, скопируйте:

1. **Только ошибки уровня ERROR:**
   - В Logcat выберите фильтр `level:error`
   - Выделите все ошибки (Ctrl+A)
   - Скопируйте (Ctrl+C)
   - Отправьте мне

2. **Или конкретную ошибку:**
   - Найдите строку с `FATAL EXCEPTION` или `AndroidRuntime`
   - Скопируйте весь стектрейс (от `FATAL EXCEPTION` до конца)
   - Отправьте мне

3. **Или первые 10-20 строк ошибок:**
   - Скопируйте первые строки из Logcat
   - Отправьте мне

---

## Быстрая проверка

Выполните эти шаги:

1. **Очистите Logcat:**
   - Нажмите кнопку "Clear" (очистить) в Logcat

2. **Перезапустите приложение:**
   - Остановите приложение (кнопка Stop)
   - Запустите заново (Run)

3. **Откройте экран карты:**
   - Перейдите в приложении на экран карты

4. **Проверьте ошибки:**
   - В Logcat установите фильтр `level:error`
   - Скопируйте все ошибки

---

## Полезные команды для фильтрации

В поле фильтра Logcat можно использовать:

- `level:error` - только ошибки
- `level:warn` - только предупреждения
- `tag:TrustTheRoute` - только логи приложения
- `package:mine` - только логи вашего приложения
- `FATAL` - только критические ошибки

Можно комбинировать:
- `package:mine level:error` - ошибки вашего приложения
- `tag:YandexMapView level:error` - ошибки карты

---

**Скопируйте ошибки и отправьте мне - я помогу их исправить!**
