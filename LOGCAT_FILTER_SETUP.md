# Как настроить фильтр Logcat для отладки приложения

## Способ 1: Фильтр по пакету приложения (самый простой)

### Шаг 1: Откройте Logcat
1. В Android Studio внизу найдите вкладку **Logcat**
2. Если вкладки нет: **View → Tool Windows → Logcat**

### Шаг 2: Выберите фильтр "Show only selected application"
1. В верхней части Logcat найдите выпадающий список фильтров
2. Выберите **"Show only selected application"** или **"Show only selected application (package:mine)"**
3. Это автоматически отфильтрует логи только вашего приложения

### Шаг 3: Если фильтр не работает
1. Убедитесь, что эмулятор выбран в списке устройств (вверху Logcat)
2. Убедитесь, что приложение запущено на эмуляторе

---

## Способ 2: Создать пользовательский фильтр

### Шаг 1: Откройте настройки фильтров
1. В Logcat найдите иконку **фильтра** (воронка) или кнопку **"Edit Filter Configuration"**
2. Или нажмите на выпадающий список фильтров и выберите **"Edit Filter Configuration"**

### Шаг 2: Создайте новый фильтр
1. Нажмите **"+"** (плюс) для создания нового фильтра
2. Заполните поля:
   - **Filter Name:** `Trust The Route Errors`
   - **Log Tag:** `TrustTheRoute|AndroidRuntime|FATAL`
   - **Package Name:** `com.trusttheroute.app`
   - **Log Level:** Выберите **Error** или **Warning**
   - **Regex:** Можно оставить пустым или использовать: `.*(FATAL|Exception|Error).*`

### Шаг 3: Сохраните и примените фильтр
1. Нажмите **OK** или **Apply**
2. Выберите созданный фильтр из списка фильтров

---

## Способ 3: Фильтр по уровню логов

### В выпадающем списке уровней логов:
1. Найдите выпадающий список с уровнями: **Verbose**, **Debug**, **Info**, **Warning**, **Error**
2. Выберите **Error** или **Warning**
3. Это покажет только ошибки и предупреждения

---

## Способ 4: Ручной фильтр через поиск

### В поле поиска Logcat:
1. Найдите поле поиска (обычно справа вверху Logcat)
2. Введите один из следующих фильтров:

**Для ошибок приложения:**
```
package:com.trusttheroute.app level:error
```

**Для всех сообщений приложения:**
```
package:com.trusttheroute.app
```

**Для ошибок и исключений:**
```
FATAL|Exception|Error|AndroidRuntime
```

**Комбинированный фильтр:**
```
package:com.trusttheroute.app (FATAL|Exception|Error|AndroidRuntime)
```

---

## Способ 5: Быстрый фильтр через регулярное выражение

### В поле поиска введите:
```
^(.*FATAL.*|.*Exception.*|.*Error.*|.*AndroidRuntime.*|.*TrustTheRoute.*)$
```

И включите опцию **Regex** (обычно кнопка **"Aa"** или **".*"** рядом с полем поиска)

---

## Рекомендуемые настройки для отладки вылета

### Настройка 1: Только ошибки приложения
```
package:com.trusttheroute.app level:error
```

### Настройка 2: Все сообщения приложения (включая Debug)
```
package:com.trusttheroute.app
```

### Настройка 3: Критические ошибки системы и приложения
```
(FATAL|AndroidRuntime|Exception) package:com.trusttheroute.app
```

---

## Дополнительные настройки Logcat

### Очистка логов перед запуском:
1. Нажмите иконку **корзины** (Clear Logcat) в панели инструментов Logcat
2. Или выполните команду: `adb logcat -c`

### Автопрокрутка:
1. Убедитесь, что включена **автопрокрутка** (иконка со стрелкой вниз)
2. Это автоматически прокрутит логи к новым сообщениям

### Сохранение логов:
1. Нажмите правой кнопкой мыши на логах
2. Выберите **"Save Logcat to File"**
3. Выберите место сохранения

---

## Что искать в логах при вылете

После настройки фильтра ищите строки с:

1. **FATAL EXCEPTION** - критическая ошибка
2. **AndroidRuntime** - ошибка времени выполнения
3. **java.lang.RuntimeException** - исключение времени выполнения
4. **java.lang.NullPointerException** - обращение к null
5. **IllegalStateException** - недопустимое состояние
6. **Yandex** или **MapKit** - ошибки Yandex MapKit
7. **Hilt** или **Dagger** - ошибки Dependency Injection
8. **Room** или **Database** - ошибки базы данных

---

## Пример настройки фильтра для Trust The Route

**Имя фильтра:** `Trust The Route - Errors`

**Настройки:**
- **Log Tag:** `TrustTheRoute|AndroidRuntime|FATAL|Yandex|MapKit|Hilt`
- **Package Name:** `com.trusttheroute.app`
- **Log Level:** `Error`
- **Message:** `.*(Exception|Error|FATAL|crash).*`

---

## Быстрая команда для проверки фильтра

После настройки фильтра:
1. Очистите логи (иконка корзины)
2. Запустите приложение на эмуляторе
3. Когда приложение вылетит, в Logcat должны появиться красные строки с ошибками
4. Скопируйте полный текст ошибки (особенно строки с "FATAL EXCEPTION")
