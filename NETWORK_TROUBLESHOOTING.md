# Устранение проблем с подключением к бэкенду

## Проблема: "failed to connect to /158.160.180.232 (port 8080)"

### Возможные причины:

1. **Эмулятор Android не может подключиться к внешнему IP**
   - Эмулятор использует виртуальную сеть
   - IP `10.0.2.16` - это IP эмулятора в виртуальной сети

2. **Сервер не запущен или недоступен**
3. **Firewall блокирует порт 8080**

## Решения:

### Вариант 1: Использовать реальное устройство (рекомендуется)

1. Подключите Android устройство через USB
2. Включите отладку по USB
3. Запустите приложение на реальном устройстве
4. Убедитесь, что устройство подключено к той же сети или имеет доступ к интернету

### Вариант 2: Настроить эмулятор для доступа к внешнему IP

Если используете эмулятор, нужно проверить:
- Сервер должен быть доступен извне (не только localhost)
- Firewall должен разрешать подключения на порт 8080

### Вариант 3: Использовать ADB port forwarding (для эмулятора)

Если сервер на localhost хоста:
```bash
adb reverse tcp:8080 tcp:8080
```

Но в вашем случае сервер на удаленном IP, поэтому это не поможет.

### Вариант 4: Проверить доступность сервера

Выполните на сервере:
```bash
# Проверьте, что приложение запущено
pgrep -f "gradlew run"

# Проверьте, что порт слушается
sudo netstat -tlnp | grep 8080
# или
sudo ss -tlnp | grep 8080

# Проверьте firewall
sudo ufw status
```

### Вариант 5: Открыть порт в firewall

На сервере Yandex Cloud:
```bash
# Проверьте правила firewall
sudo ufw status

# Если нужно открыть порт
sudo ufw allow 8080/tcp
sudo ufw reload
```

Также проверьте Security Groups в Yandex Cloud консоли - там должен быть открыт порт 8080 для входящих соединений.
