<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1065px" preserveAspectRatio="none" style="width:1861px;height:1065px;background:#FFFFFF;" version="1.1" viewBox="0 0 1861 1065" width="1861px" zoomAndPan="magnify"><title>Trust The Route - simplified UML (layers, key components, stored data)</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="474.5234" x="686.2383" y="24.5332">Trust The Route - simplified UML (layers, key components, stored data)</text></g><!--cluster UI layer (Jetpack Compose)--><g class="cluster" data-qualified-name="UI layer .Jetpack Compose." data-source-line="7" id="ent0002"><rect fill="none" height="90" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="397" x="100" y="45.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="183.6201" x="206.6899" y="62.1426">UI layer (Jetpack Compose)</text></g><!--cluster ViewModel (MVVM)--><g class="cluster" data-qualified-name="ViewModel .MVVM." data-source-line="13" id="ent0006"><rect fill="none" height="456.5" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="598" x="53" y="168.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="127.5586" x="288.2207" y="185.1426">ViewModel (MVVM)</text></g><!--cluster Domain model--><g class="cluster" data-qualified-name="Domain model" data-source-line="23" id="ent0011"><rect fill="none" height="401" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="392" x="7" y="658.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="96.4551" x="154.7725" y="674.6426">Domain model</text></g><!--cluster Data layer (Repository)--><g class="cluster" data-qualified-name="Data layer .Repository." data-source-line="29" id="ent0015"><rect fill="none" height="213" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="416" x="675" y="394.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="153.2686" x="806.3657" y="411.1426">Data layer (Repository)</text></g><!--cluster Local storage--><g class="cluster" data-qualified-name="Local storage" data-source-line="35" id="ent0018"><rect fill="none" height="178" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="630" x="473" y="658.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91.0273" x="742.4863" y="674.6426">Local storage</text></g><!--cluster Remote services--><g class="cluster" data-qualified-name="Remote services" data-source-line="43" id="ent0022"><rect fill="none" height="90" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="521" x="1127" y="702.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="111.2891" x="1331.8555" y="718.6426">Remote services</text></g><!--cluster Device/Platform services--><g class="cluster" data-qualified-name="Device.Platform services" data-source-line="49" id="ent0026"><rect fill="none" height="90" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="550" x="1305" y="916.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="165.7646" x="1497.1177" y="933.1426">Device/Platform services</text></g><!--entity MapScreen--><g class="entity" data-qualified-name="UI layer .Jetpack Compose..MapScreen" data-source-line="8" id="ent0003"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91.5928" x="389" y="81.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.5928" x="399" y="106.1426">MapScreen</text></g><!--entity RoutesScreen--><g class="entity" data-qualified-name="UI layer .Jetpack Compose..RoutesScreen" data-source-line="9" id="ent0004"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108.7168" x="116.5" y="81.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.7168" x="126.5" y="106.1426">RoutesScreen</text></g><!--entity AuthScreen--><g class="entity" data-qualified-name="UI layer .Jetpack Compose..AuthScreen" data-source-line="10" id="ent0005"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93.1582" x="260.5" y="81.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1582" x="270.5" y="106.1426">AuthScreen</text></g><!--entity MapViewModel--><g class="entity" data-qualified-name="ViewModel .MVVM..MapViewModel" data-source-line="14" id="ent0007"><rect fill="#F1F1F1" height="125.6563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233.9922" x="401" y="204.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.71" x="411" y="229.1426">MapViewModel</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.0137" x="411" y="246.752">stores:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.4961" x="411" y="264.3613">- uiState (MapUiState)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.8545" x="411" y="281.9707">- currentPlayingAttractionId</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.3994" x="411" y="299.5801">- isLocationTrackingActive</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.9922" x="411" y="317.1895">- isAttractionCardManuallyOpened</text></g><!--entity MapUiState--><g class="entity" data-qualified-name="ViewModel .MVVM..MapUiState" data-source-line="16" id="ent0008"><rect fill="#F1F1F1" height="196.0938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151.5439" x="85" y="413.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1445" x="95" y="437.6426">MapUiState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.0137" x="95" y="455.252">stores:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.4619" x="95" y="472.8613">- route</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1377" x="95" y="490.4707">- attractions</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0547" x="95" y="508.0801">- currentLocation</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.4961" x="95" y="525.6895">- nearbyAttraction</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.3857" x="95" y="543.2988">- isAudioPlaying</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.5439" x="95" y="560.9082">- audioGuideEnabled</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.4893" x="95" y="578.5176">- isLoading</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1104" x="95" y="596.127">- error</text></g><!--entity RoutesViewModel--><g class="entity" data-qualified-name="ViewModel .MVVM..RoutesViewModel" data-source-line="18" id="ent0009"><rect fill="#F1F1F1" height="90.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.6963" x="69" y="222.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.834" x="79" y="247.1426">RoutesViewModel</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.0137" x="79" y="264.752">stores:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.6963" x="79" y="282.3613">- searchQuery</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.6963" x="79" y="299.9707">- routes (filtered list)</text></g><!--entity AuthViewModel--><g class="entity" data-qualified-name="ViewModel .MVVM..AuthViewModel" data-source-line="20" id="ent0010"><rect fill="#F1F1F1" height="90.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117.2754" x="248.5" y="222.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.2754" x="258.5" y="247.1426">AuthViewModel</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.0137" x="258.5" y="264.752">stores:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.4893" x="258.5" y="282.3613">- authState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.0547" x="258.5" y="299.9707">- isLoggedIn</text></g><!--entity Route--><g class="entity" data-qualified-name="Domain model.Route" data-source-line="24" id="ent0012"><rect fill="#F1F1F1" height="125.6563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="198.9717" x="183.5" y="694.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.3584" x="193.5" y="718.6426">Route</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.0137" x="193.5" y="736.252">stores:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.4961" x="193.5" y="753.8613">- id, number, name</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.5098" x="193.5" y="771.4707">- description, polyline</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0273" x="193.5" y="789.0801">- history, stops</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.9717" x="193.5" y="806.6895">- duration, interval, startPoint</text></g><!--entity Attraction--><g class="entity" data-qualified-name="Domain model.Attraction" data-source-line="25" id="ent0013"><rect fill="#F1F1F1" height="143.2656" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233.2334" x="149.5" y="900.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.1377" x="159.5" y="924.6426">Attraction</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.0137" x="159.5" y="942.252">stores:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.6133" x="159.5" y="959.8613">- id, routeId, name</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.3926" x="159.5" y="977.4707">- description, lat/lng</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.4824" x="159.5" y="995.0801">- imageUrls, audioUrl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.2334" x="159.5" y="1012.6895">- localImagePaths, localAudioPath</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.2344" x="159.5" y="1030.2988">- order</text></g><!--entity User--><g class="entity" data-qualified-name="Domain model.User" data-source-line="26" id="ent0014"><rect fill="#F1F1F1" height="90.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.0547" x="23.5" y="712.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="33.5" y="736.6426">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.0137" x="33.5" y="754.252">stores:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.4824" x="33.5" y="771.8613">- id, email, name</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0547" x="33.5" y="789.4707">- token (optional)</text></g><!--entity RouteRepository--><g class="entity" data-qualified-name="Data layer .Repository..RouteRepository" data-source-line="30" id="ent0016"><rect fill="#F1F1F1" height="160.875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187.2891" x="691.5" y="430.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.2754" x="701.5" y="455.1426">RouteRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4756" x="701.5" y="472.752">stores/uses:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.1445" x="701.5" y="490.3613">- RouteApi</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.4961" x="701.5" y="507.9707">- Room (Route/Attraction)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.0752" x="701.5" y="525.5801">- RouteDataLoader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.8066" x="701.5" y="543.1895">provides:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.2891" x="701.5" y="560.7988">- flows of routes/attractions</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0205" x="701.5" y="578.4082">- syncRoutes()</text></g><!--entity AuthRepository--><g class="entity" data-qualified-name="Data layer .Repository..AuthRepository" data-source-line="32" id="ent0017"><rect fill="#F1F1F1" height="143.2656" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.8477" x="913.5" y="439.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.7168" x="923.5" y="464.1426">AuthRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4756" x="923.5" y="481.752">stores/uses:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5859" x="923.5" y="499.3613">- AuthApi</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.8477" x="923.5" y="516.9707">- DataStore token/user</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.8066" x="923.5" y="534.5801">provides:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.7168" x="923.5" y="552.1895">- login/register/reset</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.0889" x="923.5" y="569.7988">- isLoggedIn/logout</text></g><!--entity RoomDB--><g class="entity" data-qualified-name="Local storage.RoomDB" data-source-line="36" id="ent0019"><rect fill="#F1F1F1" height="90.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93.1377" x="489.5" y="712.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.6826" x="499.5" y="736.6426">Room DB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.0137" x="499.5" y="754.252">stores:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4619" x="499.5" y="771.8613">- routes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1377" x="499.5" y="789.4707">- attractions</text></g><!--entity DataStore--><g class="entity" data-qualified-name="Local storage.DataStore" data-source-line="38" id="ent0020"><rect fill="#F1F1F1" height="125.6563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280.7432" x="617.5" y="694.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206.9854" x="627.5" y="718.6426">DataStore (PreferencesManager)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.0137" x="627.5" y="736.252">stores:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.8135" x="627.5" y="753.8613">- token, user</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.4404" x="627.5" y="771.4707">- theme/language/fontSize</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260.7432" x="627.5" y="789.0801">- notificationsEnabled/audioGuideEnabled</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.8818" x="627.5" y="806.6895">- oauthState/lastNotificationId</text></g><!--entity Assets--><g class="entity" data-qualified-name="Local storage.Assets" data-source-line="40" id="ent0021"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153.0479" x="933.5" y="738.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.0479" x="943.5" y="762.6426">Assets (routes/*.json)</text></g><!--entity BackendApi--><g class="entity" data-qualified-name="Remote services.BackendApi" data-source-line="44" id="ent0023"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142.165" x="1143" y="738.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.165" x="1153" y="762.6426">Backend REST API</text></g><!--entity YandexOAuth--><g class="entity" data-qualified-name="Remote services.YandexOAuth" data-source-line="45" id="ent0024"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.0615" x="1320.5" y="738.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0615" x="1330.5" y="762.6426">Yandex OAuth</text></g><!--entity YandexStorage--><g class="entity" data-qualified-name="Remote services.YandexStorage" data-source-line="46" id="ent0025"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.7578" x="1466.5" y="738.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.7578" x="1476.5" y="762.6426">Yandex Object Storage</text></g><!--entity FusedLocation--><g class="entity" data-qualified-name="Device.Platform services.FusedLocation" data-source-line="50" id="ent0027"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.7646" x="1673.5" y="952.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.7646" x="1683.5" y="977.1426">Google Fused Location</text></g><!--entity Media3--><g class="entity" data-qualified-name="Device.Platform services.Media3" data-source-line="51" id="ent0028"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.6133" x="1504" y="952.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.6133" x="1514" y="977.1426">Media3/ExoPlayer</text></g><!--entity Notifications--><g class="entity" data-qualified-name="Device.Platform services.Notifications" data-source-line="52" id="ent0029"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148.3994" x="1321" y="952.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.3994" x="1331" y="977.1426">Android Notifications</text></g><!--link MapScreen to MapViewModel--><g class="link" data-entity-1="ent0003" data-entity-2="ent0007" data-link-type="dependency" data-source-line="56" id="lnk30"><path d="M444.2,119.8994 C454.46,140.2894 468.9047,169.0089 484.0847,199.1989" fill="none" id="MapScreen-to-MapViewModel" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="486.78,204.5594,486.3107,194.7217,484.5339,200.0923,479.1633,198.3155,486.78,204.5594" style="stroke:#181818;stroke-width:1;"/></g><!--link RoutesScreen to RoutesViewModel--><g class="link" data-entity-1="ent0004" data-entity-2="ent0009" data-link-type="dependency" data-source-line="57" id="lnk31"><path d="M167.67,119.8994 C163.2,144.4794 156.1947,183.0764 150.0847,216.6364" fill="none" id="RoutesScreen-to-RoutesViewModel" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="149.01,222.5394,154.5574,214.4014,149.9056,217.6202,146.6867,212.9685,149.01,222.5394" style="stroke:#181818;stroke-width:1;"/></g><!--link AuthScreen to AuthViewModel--><g class="link" data-entity-1="ent0005" data-entity-2="ent0010" data-link-type="dependency" data-source-line="58" id="lnk32"><path d="M307,119.8994 C307,144.4794 307,182.9794 307,216.5394" fill="none" id="AuthScreen-to-AuthViewModel" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="307,222.5394,311,213.5394,307,217.5394,303,213.5394,307,222.5394" style="stroke:#181818;stroke-width:1;"/></g><!--link MapViewModel to RouteRepository--><g class="link" data-entity-1="ent0007" data-entity-2="ent0016" data-link-type="dependency" data-source-line="61" id="lnk33"><path d="M588.63,330.8294 C608.84,348.7494 630.85,368.3894 651,386.6094 C666.6,400.7194 678.7224,411.7693 694.6624,426.4193" fill="none" id="MapViewModel-to-RouteRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="699.08,430.4794,695.1603,421.4441,695.3986,427.0959,689.7468,427.3343,699.08,430.4794" style="stroke:#181818;stroke-width:1;"/></g><!--link MapViewModel to MapUiState--><g class="link" data-entity-1="ent0007" data-entity-2="ent0008" data-link-type="dependency" data-source-line="62" id="lnk34"><path d="M426.06,330.7994 C367.49,370.4194 297.4898,417.7776 242.2298,455.1576" fill="none" id="MapViewModel-to-MapUiState" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="237.26,458.5194,246.9558,456.7899,241.4015,455.7179,242.4735,450.1636,237.26,458.5194" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.2153" x="382" y="375.1045">exposes state</text></g><!--link MapViewModel to FusedLocation--><g class="link" data-entity-1="ent0007" data-entity-2="ent0027" data-link-type="dependency" data-source-line="63" id="lnk35"><path d="M635.07,272.2694 C912.12,282.1094 1590.03,313.4794 1660,386.6094 C1818.58,552.3494 1774.6302,867.242 1760.5202,946.612" fill="none" id="MapViewModel-to-FusedLocation" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1759.47,952.5194,1764.9835,944.3584,1760.3452,947.5966,1757.107,942.9582,1759.47,952.5194" style="stroke:#181818;stroke-width:1;"/></g><!--link MapViewModel to Media3--><g class="link" data-entity-1="ent0007" data-entity-2="ent0028" data-link-type="dependency" data-source-line="64" id="lnk36"><path d="M635.33,274.2994 C896.13,287.9894 1506.59,326.1794 1577,386.6094 C1733.14,520.6194 1703.56,645.9794 1648,844.1094 C1636.06,886.6894 1609.1845,924.4953 1590.3445,947.7753" fill="none" id="MapViewModel-to-Media3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1586.57,952.4394,1595.3411,947.9597,1589.7154,948.5527,1589.1224,942.927,1586.57,952.4394" style="stroke:#181818;stroke-width:1;"/></g><!--link MapViewModel to DataStore--><g class="link" data-entity-1="ent0007" data-entity-2="ent0020" data-link-type="dependency" data-source-line="65" id="lnk37"><path d="M540.72,330.8894 C568.62,404.8094 619.16,530.9294 675,633.1094 C686.18,653.5694 696.4569,669.9673 709.4269,689.0473" fill="none" id="MapViewModel-to-DataStore" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="712.8,694.0094,711.0484,684.3175,709.9891,689.8743,704.4323,688.815,712.8,694.0094" style="stroke:#181818;stroke-width:1;"/></g><!--link RoutesViewModel to RouteRepository--><g class="link" data-entity-1="ent0009" data-entity-2="ent0016" data-link-type="dependency" data-source-line="67" id="lnk38"><path d="M200.08,312.7194 C210.12,319.2094 220.65,325.4394 231,330.6094 C290.97,360.5794 308,366.8494 374,378.6094 C404.31,384.0094 622.48,374.9994 651,386.6094 C675.17,396.4494 693.2363,408.7478 712.6463,426.3578" fill="none" id="RoutesViewModel-to-RouteRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="717.09,430.3894,713.1122,421.3795,713.3869,427.0297,707.7368,427.3044,717.09,430.3894" style="stroke:#181818;stroke-width:1;"/></g><!--link AuthViewModel to AuthRepository--><g class="link" data-entity-1="ent0010" data-entity-2="ent0017" data-link-type="dependency" data-source-line="68" id="lnk39"><path d="M357.06,312.8294 C365.71,319.3094 374.86,325.4994 384,330.6094 C439.58,361.6794 456.37,367.1194 519,378.6094 C539.61,382.3894 877.23,377.2994 896,386.6094 C919.54,398.2894 935.6301,413.7569 951.0201,434.5469" fill="none" id="AuthViewModel-to-AuthRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="954.59,439.3694,952.4502,429.7558,951.6151,435.3507,946.0202,434.5156,954.59,439.3694" style="stroke:#181818;stroke-width:1;"/></g><!--link AuthViewModel to YandexOAuth--><g class="link" data-entity-1="ent0010" data-entity-2="ent0024" data-link-type="dependency" data-source-line="69" id="lnk40"><path d="M353.04,312.8294 C362.64,319.8994 373.16,326.2994 384,330.6094 C530.45,388.8394 971.22,284.1794 1091,386.6094 C1176.62,459.8194 1065.55,558.5494 1150,633.1094 C1175.64,655.7494 1273.64,632.5494 1303,650.1094 C1336.94,670.4194 1356.5198,707.7861 1366.8098,732.3261" fill="none" id="AuthViewModel-to-YandexOAuth" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1369.13,737.8594,1369.3386,728.0127,1367.1965,733.2483,1361.9609,731.1063,1369.13,737.8594" style="stroke:#181818;stroke-width:1;"/></g><!--link RouteRepository to BackendApi--><g class="link" data-entity-1="ent0016" data-entity-2="ent0023" data-link-type="dependency" data-source-line="72" id="lnk41"><path d="M842.1,591.7694 C857.69,608.0894 875.9,623.2694 896,633.1094 C978.91,673.6894 1018.79,612.2894 1103,650.1094 C1146.27,669.5394 1179.4562,708.3799 1197.8462,733.1799" fill="none" id="RouteRepository-to-BackendApi" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1201.42,737.9994,1199.2723,728.3875,1198.4418,733.9831,1192.8462,733.1527,1201.42,737.9994" style="stroke:#181818;stroke-width:1;"/></g><!--link RouteRepository to RoomDB--><g class="link" data-entity-1="ent0016" data-entity-2="ent0019" data-link-type="dependency" data-source-line="73" id="lnk42"><path d="M745.54,591.6294 C731.93,611.2994 714.77,630.1494 694,642.1094 C657.67,663.0294 635.61,627.9694 600,650.1094 C577.36,664.1794 564.1302,684.0305 553.9302,706.3905" fill="none" id="RouteRepository-to-RoomDB" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="551.44,711.8494,558.8145,705.3212,553.5151,707.3003,551.536,702.001,551.44,711.8494" style="stroke:#181818;stroke-width:1;"/></g><!--link RouteRepository to Assets--><g class="link" data-entity-1="ent0016" data-entity-2="ent0021" data-link-type="dependency" data-source-line="74" id="lnk43"><path d="M836.02,591.6294 C851.16,610.3494 869.09,628.7194 889,642.1094 C899.39,649.0894 905.44,643.3894 916,650.1094 C952.32,673.2194 979.5896,709.2719 995.3096,732.9319" fill="none" id="RouteRepository-to-Assets" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="998.63,737.9294,996.9811,728.2195,995.863,733.7648,990.3177,732.6467,998.63,737.9294" style="stroke:#181818;stroke-width:1;"/></g><!--link AuthRepository to BackendApi--><g class="link" data-entity-1="ent0017" data-entity-2="ent0023" data-link-type="dependency" data-source-line="76" id="lnk44"><path d="M1050.96,582.8494 C1067.13,602.3294 1084.98,623.2794 1102,642.1094 C1133.63,677.0994 1168.3484,711.6963 1190.9884,733.8163" fill="none" id="AuthRepository-to-BackendApi" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1195.28,738.0094,1191.6379,728.8587,1191.7036,734.5152,1186.0472,734.5809,1195.28,738.0094" style="stroke:#181818;stroke-width:1;"/></g><!--link AuthRepository to DataStore--><g class="link" data-entity-1="ent0017" data-entity-2="ent0020" data-link-type="dependency" data-source-line="77" id="lnk45"><path d="M939.89,582.8594 C926.09,599.7794 910.93,617.4594 896,633.1094 C876.17,653.8894 857.8289,671.1982 836.5189,690.0982" fill="none" id="AuthRepository-to-DataStore" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="832.03,694.0794,841.4174,691.1001,835.7707,690.7617,836.1092,685.115,832.03,694.0794" style="stroke:#181818;stroke-width:1;"/></g><!--link MapViewModel to YandexStorage--><g class="link" data-entity-1="ent0007" data-entity-2="ent0025" data-link-type="dependency" data-source-line="80" id="lnk46"><path d="M635.01,271.5694 C767.27,279.0494 986.02,304.1694 1154,386.6094 C1335.66,475.7694 1487.8444,671.8117 1532.5744,733.1417" fill="none" id="MapViewModel-to-YandexStorage" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1536.11,737.9894,1534.0384,728.3608,1533.1637,733.9497,1527.5749,733.0749,1536.11,737.9894" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.0571" x="1451" y="516.6045">loads media by URL</text></g><!--link BackendApi to Notifications--><g class="link" data-entity-1="ent0023" data-entity-2="ent0029" data-link-type="dependency" data-source-line="83" id="lnk47"><path d="M1229.43,776.2294 C1263.63,816.3694 1341.5597,907.8615 1375.7197,947.9715" fill="none" id="BackendApi-to-Notifications" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1379.61,952.5394,1376.8198,943.094,1376.3681,948.7328,1370.7293,948.2811,1379.61,952.5394" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.8398" x="1305" y="866.6045">push payloads</text></g><!--link Route to Attraction--><g class="link" data-entity-1="ent0012" data-entity-2="ent0013" data-link-type="dependency" data-source-line="86" id="lnk48"><path d="M278.04,820.1494 C276.04,845.1394 274.1975,868.1184 272.1375,893.9184" fill="none" id="Route-to-Attraction" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="271.66,899.8994,276.3636,891.2463,272.058,894.9152,268.389,890.6096,271.66,899.8994" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.5781" x="277" y="866.6045">contains (list)</text></g><!--link AuthViewModel to User--><g class="link" data-entity-1="ent0010" data-entity-2="ent0014" data-link-type="dependency" data-source-line="87" id="lnk49"><path d="M315.2,312.7794 C326.6,389.0894 337.34,545.7994 254,633.1094 C226.49,661.9194 199.8,629.0294 166,650.1094 C142.03,665.0494 125.865,684.8783 112.195,706.7983" fill="none" id="AuthViewModel-to-User" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="109.02,711.8894,117.1766,706.3694,111.6658,707.6468,110.3884,702.136,109.02,711.8894" style="stroke:#181818;stroke-width:1;"/></g><!--link RouteRepository to Route--><g class="link" data-entity-1="ent0016" data-entity-2="ent0012" data-link-type="dependency" data-source-line="88" id="lnk50"><path d="M714.08,591.7394 C695.27,608.1794 673.78,623.4094 651,633.1094 C552.2,675.1694 509.6,609.9894 410,650.1094 C385.23,660.0894 366.2278,672.884 346.2978,690.124" fill="none" id="RouteRepository-to-Route" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="341.76,694.0494,351.1836,691.1866,345.5415,690.7783,345.9498,685.1362,341.76,694.0494" style="stroke:#181818;stroke-width:1;"/></g><!--link RouteRepository to Attraction--><g class="link" data-entity-1="ent0016" data-entity-2="ent0013" data-link-type="dependency" data-source-line="89" id="lnk51"><path d="M711.08,591.7694 C692.83,607.5794 672.35,622.5394 651,633.1094 C631.55,642.7394 624.54,639.4394 603,642.1094 C588.64,643.8894 484.64,641.5094 473,650.1094 C398.9,704.8394 451.03,767.4094 400,844.1094 C386.8,863.9494 374.2096,878.754 356.9296,895.734" fill="none" id="RouteRepository-to-Attraction" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="352.65,899.9394,361.873,896.4845,356.2164,896.4349,356.2659,890.7783,352.65,899.9394" style="stroke:#181818;stroke-width:1;"/></g><?plantuml-src VLPDRoCt3BtxLn2-r2wIpA6t05qWNrsuYBkf7GSeTdjGPcXR6uraI9eaRj7_NbAIPpHZPttnYAIenqUAb9TU8JpQndbut28iJECHpi79UgVaMc85g_azJ9JOetLdy89xA4szCngrfxNpnf9D9RoOZaRkHUgTiAA6dIXVn0QNVa_kBPPUw8t2pA1ryh69suhAl4czWRLG3aUZv1J6gna4G33v7JrBuORTEPoEuTyHmDUvs2rBYwZ_1k6WNR4gHEWoRIvWWwl6RpDrjnpzbq5ualWsDnKgcCoVdkRfu3Og6DEXhSqt7NXobz_qEJHowGMHF26BLVoUihnihAMT3nGPnNpblHMbbqRFAjPATszAmUj7ah-m1MbVCUewwnjXgxdGZL1g_sM76gjneg15Cpe2cc3qO5gcXJz4wzjbC0zeMAHHsETzXo5XQYffKZJ13wy_DxB2EosU5RPXYIfPeBN67k0cJ0EmCLcdYNK4ezp-sQ3Tjm4ucAobyiX5ggJpqt6Nyey8uOoVFa5mBKIc8lJD1gkP7X_gfFEObygjgONKKBFYg4mMaURi45cTWMxgPxJqB-fmLeMkj7B7v9x1pgYzaZeejf9txiD5t8NyL8qLqKvgYljLA5OAwnyC2Rhm1p5doHjW2JpEgW_0AE4B5TCdQmftPHMrXP1h-cIneafHCzOz2BybPH34wY01cnXROKnyXwEFR-NG7Y53ubLrkBnvGGqJ4v095LFD6_lPe5Prw1uBfAOXcS3fwSHq1eV3YyOb1C7WQYVZjwd97KkABeHfQyQ7Sg5p43jhNkaIH2ThPTuSc7Mgrc9msTnUbx5O9rdbTgXELEwF8BC-8MP4IrP7sjXcY4sPZTI5nGtL65hwSEZxXL-G2G5gwpy3bbFElKA5KK7BrA43OxVNnot73NfEwj6clhtcQBzsm2SF5jTqitM9ZbeU-RRJdhyGsHd4q6YvnHeBHMEc8TjYRMZuo7z2wMZZQTZ5ZkPIUofEDYpJzW3ovFmVsSPP5R2s00FSAqUiKHTA-VtvuhkZmeYJ9QXwJ2smDZGQ2F2hfAWILzUaHbt1ucxv25SFix0x2IcTRFANq1M-mnVEGb17GLZd-kVlD6XX6LEH6IP9_wOWWoYeXVkriVKGrMTZQ5x3RqHl1OTn45m6qK4InZ5MKlnItBs7UO0sJkKW31pfoXfPGKvcp7jFmk1-Wb_v1_G2EFy4J_Eu7BKJ7iv9t1js-NWFsc7pxmPyKFVxU7iW7SLxkS2XW6MYeZk-Um-qPsIteMTmSV4f6t1m2VZERnV7RPhwyf6pFfr7wiJZaJohmq789o7sucwP-A51NcCjKP4YqePRNwIAZZmDpWnEiZe-fKut_vGgtPzH7-VGwGbjnim1zGqr0swX51ezgiZkH68vRxtRGgbJrDGTr9m2UDx3Qd7V-UmLRpQNakyEO_3Sjxw4NUEsz8pUXnCwf-anqNK-c7HlzMdES-IeRQJaigGWQJDj2K-XGKOPH9YMGwvP4PyCfpJPnFuV?></g></svg>