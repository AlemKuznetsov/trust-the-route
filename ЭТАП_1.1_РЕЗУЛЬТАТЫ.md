# –≠—Ç–∞–ø 1.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Yandex IAM - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–î–∞—Ç–∞:** 2024  
**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- ‚úÖ `AuthErrorResponse.kt` - –∫–ª–∞—Å—Å—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ API
- ‚úÖ `AuthException` - –∫–∞—Å—Ç–æ–º–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Å —Ç–∏–ø–∞–º–∏ –æ—à–∏–±–æ–∫
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫ (—Å–µ—Ç—å, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–µ—Ä–≤–µ—Ä)

### 2. –£–ª—É—á—à–µ–Ω AuthRepository
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ HTTP
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫ (IOException)
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –æ—à–∏–±–æ–∫ –∏–∑ –æ—Ç–≤–µ—Ç–∞ API
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 3. –°–æ–∑–¥–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å YandexIamApi
- ‚úÖ `YandexIamApi.kt` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Yandex Cloud IAM API
- ‚úÖ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Yandex IAM
- ‚ö†Ô∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### 4. –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `YANDEX_IAM_SETUP.md` - –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Yandex IAM
- ‚úÖ `YANDEX_IAM_CONFIGURATION.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

---

## ‚ö†Ô∏è –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

### 1. BASE_URL API
**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫–æ–π URL –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è API?
- [ ] –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –±—ç–∫–µ–Ω–¥: `https://your-backend.com/api/v1/`
- [ ] Yandex Cloud API: `https://iam.api.cloud.yandex.net/`
- [ ] –î—Ä—É–≥–æ–π URL: _________________

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è URL –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å:
```kotlin
// app/src/main/java/com/trusttheroute/app/di/NetworkModule.kt
private const val BASE_URL = "–í–ê–®_URL_–ó–î–ï–°–¨"
```

---

### 2. Endpoints API
**–í–æ–ø—Ä–æ—Å:** –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏ endpoints?
- [ ] `/auth/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- [ ] `/auth/login` - –≤—Ö–æ–¥
- [ ] `/auth/reset-password` - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- [ ] –î—Ä—É–≥–∏–µ endpoints: _________________

**–î–µ–π—Å—Ç–≤–∏–µ:** –ï—Å–ª–∏ endpoints –¥—Ä—É–≥–∏–µ, –æ–±–Ω–æ–≤–∏—Ç—å –≤ `AuthApi.kt`

---

### 3. –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ API
**–í–æ–ø—Ä–æ—Å:** –°–æ–≤–ø–∞–¥–∞–µ—Ç –ª–∏ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤?

**–û–∂–∏–¥–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç:**
```json
{
  "user": {
    "id": "user-id",
    "email": "user@example.com",
    "name": "User Name"
  },
  "token": "jwt-token-here"
}
```

- [ ] –°–æ–≤–ø–∞–¥–∞–µ—Ç
- [ ] –û—Ç–ª–∏—á–∞–µ—Ç—Å—è (–Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª–∏)

---

### 4. API –∫–ª—é—á–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
**–í–æ–ø—Ä–æ—Å:** –ù—É–∂–Ω—ã –ª–∏ API –∫–ª—é—á–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏?
- [ ] –î–∞, –Ω—É–∂–Ω—ã (–≥–¥–µ –ø–æ–ª—É—á–∏—Ç—å: _________________)
- [ ] –ù–µ—Ç, –Ω–µ –Ω—É–∂–Ω—ã

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:

1. **–û–±–Ω–æ–≤–∏—Ç—å BASE_URL** –≤ `NetworkModule.kt`
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å endpoints** –≤ `AuthApi.kt`
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤** –∏ –æ–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –∫ API
5. **–ü–µ—Ä–µ–π—Ç–∏ –∫ –≠—Ç–∞–ø—É 1.2** - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è UI —ç–∫—Ä–∞–Ω–æ–≤

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. `app/src/main/java/com/trusttheroute/app/data/api/AuthErrorResponse.kt`
2. `app/src/main/java/com/trusttheroute/app/data/api/YandexIamApi.kt` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. `YANDEX_IAM_SETUP.md`
4. `YANDEX_IAM_CONFIGURATION.md`
5. `–≠–¢–ê–ü_1.1_–†–ï–ó–£–õ–¨–¢–ê–¢–´.md` (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

---

## üîß –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. `app/src/main/java/com/trusttheroute/app/data/repository/AuthRepository.kt`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
   - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –æ—à–∏–±–æ–∫ API

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –≥–æ—Ç–æ–≤–∞
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

## ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ:

- ‚è≥ BASE_URL –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚è≥ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ endpoints
- ‚è≥ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–æ–≤

---

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—é –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
